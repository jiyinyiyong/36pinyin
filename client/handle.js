// Generated by CoffeeScript 1.3.3
var tag;

tag = function(id) {
  return document.getElementById(id);
};

window.onload = function() {
  var paper, popup, render, select, socket, words;
  socket = io.connect('http://localhost:8000/ime');
  socket.on('ready', function(data) {
    return console.log(data);
  });
  paper = tag('paper');
  window.box = tag('box');
  words = 'erwerwerw\nwerwerwer333';
  popup = ['aaa', 'bbb', 'ccc'];
  select = 0;
  render = function() {
    var html, index, insert, item, _i, _len;
    paper.innerHTML = words.replace(/\n/g, '<br>');
    paper.innerHTML += '<span id="cursor"></span>';
    window.cursor = tag('cursor');
    box.style.left = cursor.offsetLeft;
    box.style.top = cursor.offsetTop;
    html = '';
    for (index = _i = 0, _len = popup.length; _i < _len; index = ++_i) {
      item = popup[index];
      insert = index === select ? " id='select'" : '';
      html += "<p" + insert + ">" + item + "</p>";
    }
    return box.innerHTML = html;
  };
  return render();
};
